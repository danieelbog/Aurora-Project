@model AuroraProject.Core.ViewModels.GigDetailsViewModel
@{
    ViewBag.Title = Model.Heading;
}

<div class="container-fluid card-container-fluid register">

    <h6 class="navigator-h6-b">@Html.ActionLink("Aurora", "Index", "Home") > <a href="" onClick="window.location.reload();">@Model.Heading</a></h6>

    <div class="page-decoration container">
        <h1 class="page-heading-b">@Model.Heading</h1>
        <p class="page-descreption-b">Custom Text to describe a Specific Industry with one catchy phrase</p>
    </div>

    @*NEW PART*@
    <div class="row-card-container">
        <!-- Inverse Card -->
        <div class="card gig-card pmd-card pmd-card-dark mt-4 p-0 mr-1 ml-1">
            <div class="card-header d-flex flex-row">

                <div class="media-body">
                    @*<p class="text-center text-capitalize text-danger enabled-gig"><i class="fa fa-eye-slash"></i></p>*@

                    @if (Model.Gig.Influencer.FileUploads.Any(f => f.FileType == AuroraProject.Core.Models.FileType.Avatar))
                    {

                        <a class="pmd-avatar-list-img position-absolute" href="javascript:void(0);">
                            <img class="img-fluid" src="~/File?id=@Model.Gig.Influencer.FileUploads.First(f => f.FileType == AuroraProject.Core.Models.FileType.Avatar).ID" width="40" height="40" alt="Influencer Avatar">
                        </a>
                    }
                    else
                    {
                        <a class="pmd-avatar-list-img position-absolute" href="javascript:void(0);">
                            <img src="http://propeller.in/components/list/img/40x40.png" width="40" height="40">
                        </a>
                    }

                    <h3 class="card-title text-center">
                        @Model.Gig.User.UserFullName
                        <i class="fa @(Model.isFollowing ? "fa-heart" : "fa-heart-o") js-toggle-favourite-influencer animated fadeInDown" data-influencer-id="@Model.Gig.InfluencerID"></i>
                    </h3>
                    <p class="card-subtitle text-center">@Model.Gig.Influencer.AboutTheInfluencer</p>

                </div>
            </div>



            @if (Model.Gig.FileUploads.Any(f => f.FileType == AuroraProject.Core.Models.FileType.Photo))
            {

                <a class="pmd-card-media" href="@Url.Action("Details", "Gig", new { gigID = Model.Gig.ID })">
                    <img class="img-fluid" src="~/File?id=@Model.Gig.FileUploads.First(f => f.FileType == AuroraProject.Core.Models.FileType.Photo).ID" alt="Gig Background" width="1184" height="666">
                </a>
            }
            else
            {

                <a class="pmd-card-media" href="@Url.Action("Details", "Gig", new { gigID = Model.Gig.ID })">
                    <img src="http://propeller.in/assets/images/profile-pic.png" width="1184" height="666" class="img-fluid">
                </a>
            }

            <div class="card-body">
                <h2 class="card-title">@Model.Gig.GigName</h2>
                <p class="card-text">@Model.Gig.Descreption</p>
            </div>

            <div class="card-body m-0 p-0">
                <div class="col-12 d-flex justify-content-between">
                    <p class="card-subtitle mb-1 align-self-end">Delivery Time: @Model.Gig.BasicPackage.DeliveryTime Days</p>
                    <p class="card-subtitle mb-1 align-self-end">Starting From: @Model.Gig.BasicPackage.Price $</p>
                </div>
            </div>


            @*NEW PART*@
            <div class="card-footer align-content-around d-flex justify-content-between">

                @(Model.isFavourited ? "Remove Gig From Favourites" : "Add Gig To Favourites")

                <i class="fa @(Model.isFavourited ? "fa-heart" : "fa-heart-o") pmd-sm js-toggle-favourite-gig" data-gig-id="@Model.Gig.ID"></i>
            </div>
        </div>


        @if (Model.ShowActions)
        {
            <div class="purchase-forms">
                <form id="purchace-gig-basic">
                    <button id="basic" class="btn btn-danger basicPackageBtn js-button-click" data-sellingPackage-id="@Model.Gig.BasicPackageID" data-gig-id="@Model.Gig.ID">
                        @Model.Gig.BasicPackage.PackageName
                    </button>
                </form>

                <form id="purchace-gig-advanced">
                    <button id="advanced" class="btn btn-info advancedPackageBtn js-button-click" data-sellingPackage-id="@Model.Gig.AdvancedPackageID" data-gig-id="@Model.Gig.ID">
                        @Model.Gig.AdvancedPackage.PackageName
                    </button>
                </form>

                <form id="purchace-gig-premium">
                    <button id="premium" class="btn btn-success premiumPackagebtn js-button-click" data-sellingPackage-id="@Model.Gig.PremiumPackageID" data-gig-id="@Model.Gig.ID">
                        @Model.Gig.PremiumPackage.PackageName
                    </button>
                </form>
            </div>
        }
    </div>
</div>



@section scripts {
    <script>
        $(document).ready(function () {

            //FAVOURITE GIG
            GigController.favouriteGig();
            //FAVOURITE INFLUENCER
            InfluencerController.initial();
            //PURCHASE PACKAGE
            PurchaseController.initial(".purchase-forms");
        });
    </script>
}
